<app-header></app-header>

<main class="px-4 mt-8">
	<section class="bg-dark-1 rounded-md py-4 px-5">
		<div class="sm:flex sm:justify-between sm:items-center">
			<h1 class="text-light-1 font-bold text-2xl">Market</h1>
			<form class="mt-5 sm:mt-0">
				<app-dropdown
					[items]="(resources$ | async) ?? []"
					[label]="labelCb"
					(select)="selected$.next($event)"
					[filter]="filterCb"
				>
				</app-dropdown>

				<div></div>
			</form>
		</div>

		<ng-container *ngIf="orders$ | async as orders">
			<div *ngIf="orders.length > 0">
				<div class="mt-4">
					{{ orders.length }} order found
					<ng-container *ngIf="selected$ | async as resource">
						<span>{{ resource.name }}</span>
					</ng-container>
				</div>

				<div class="mt-4">
					<div class="mt-1 grid gap-2">
						<app-market-item
							*ngFor="let order of orders"
							[item]="order"
						></app-market-item>
					</div>
				</div>
			</div>
		</ng-container>
	</section>
</main>
